// For format details, see https://aka.ms/vscode-remote/devcontainer.json
{
	"name": "VS Code Docs",
	"dockerFile": "Dockerfile",
	"features": {
		"ghcr.io/devcontainers/features/node:1": {
			"version": "20"
		},
		"ghcr.io/devcontainers/features/docker-in-docker:2": {}
	},
	"customizations": {
		"vscode": {
			"settings": {
				"terminal.integrated.defaultProfile.linux": "zsh"
			},
			"extensions": [
				"yzhang.markdown-all-in-one",
				"streetsidesoftware.code-spell-checker",
				"DavidAnson.vscode-markdownlint",
				"bierner.github-markdown-preview",
				"github.vscode-pull-request-github"
			]
		}
	},
	"postCreateCommand": "export NVM_DIR=\"$HOME/.nvm\" && [ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\" && nvm use 20 && cd web && npm ci",
	"remoteUser": "vscode"
}