"use strict";exports.id=689,exports.ids=[70,689],exports.modules={36689:(a,b,c)=>{c.r(b),c.d(b,{createOrReadKeyless:()=>t,removeKeyless:()=>u,safeParseClerkFile:()=>p});var d=c(94288),e=c(21327),f=c(91488);c(27806);var g=c(70495);async function h(){var a,b,c,d,e,f;let h=await (0,g.b3)();return{nodeVersion:process.version,nextVersion:function(){var a;try{return null!=(a=process.title)?a:"unknown-process-title"}catch{return}}(),npmConfigUserAgent:process.env.npm_config_user_agent,userAgent:null!=(a=h.get("User-Agent"))?a:"unknown user-agent",port:process.env.PORT,host:null!=(b=h.get("host"))?b:"unknown host",xPort:null!=(c=h.get("x-forwarded-port"))?c:"unknown x-forwarded-port",xHost:null!=(d=h.get("x-forwarded-host"))?d:"unknown x-forwarded-host",xProtocol:null!=(e=h.get("x-forwarded-proto"))?e:"unknown x-forwarded-proto",xClerkAuthStatus:null!=(f=h.get("x-clerk-auth-status"))?f:"unknown x-clerk-auth-status"}}function i(a){let b=new Headers;return a.nodeVersion&&b.set("Clerk-Node-Version",a.nodeVersion),a.nextVersion&&b.set("Clerk-Next-Version",a.nextVersion),a.npmConfigUserAgent&&b.set("Clerk-NPM-Config-User-Agent",a.npmConfigUserAgent),a.userAgent&&b.set("Clerk-Client-User-Agent",a.userAgent),a.port&&b.set("Clerk-Node-Port",a.port),a.host&&b.set("Clerk-Client-Host",a.host),a.xPort&&b.set("Clerk-X-Port",a.xPort),a.xHost&&b.set("Clerk-X-Host",a.xHost),a.xProtocol&&b.set("Clerk-X-Protocol",a.xProtocol),a.xClerkAuthStatus&&b.set("Clerk-Auth-Status",a.xClerkAuthStatus),b}(0,c(40410).D)([h,i]),(0,f.A)(h,"7facab5d07344f9d1daaa180849fbc0163bf53a4e3",null),(0,f.A)(i,"7f7a5d492976b08737fec3526c941dd40e1d95d0d4",null);let j=".clerk",k="clerk.lock",l=(...a)=>{let b=(0,e.dc)(),c=(0,e.y4)();return b.join(c(),j,...a)},m=".tmp",n=()=>l(m,"keyless.json"),o=!1;function p(){let{readFileSync:a}=(0,e.p8)();try{let b,c=n();try{b=a(c,{encoding:"utf-8"})||"{}"}catch{b="{}"}return JSON.parse(b)}catch{return}}let q=()=>{let{writeFileSync:a}=(0,e.p8)();o=!0,a(k,"This file can be deleted. Please delete this file and refresh your application",{encoding:"utf8",mode:"0777",flag:"w"})},r=()=>{let{rmSync:a}=(0,e.p8)();try{a(k,{force:!0,recursive:!0})}catch{}o=!1},s=()=>{let{existsSync:a}=(0,e.p8)();return o||a(k)};async function t(){let{writeFileSync:a,mkdirSync:b}=(0,e.p8)();if(s())return null;q();let c=n(),f=l(m,"README.md");b(l(m),{recursive:!0}),function(){let{existsSync:a,writeFileSync:b,readFileSync:c,appendFileSync:d}=(0,e.p8)(),f=(0,e.dc)(),g=(0,e.y4)(),h=f.join(g(),".gitignore");a(h)||b(h,""),c(h,"utf-8").includes(j+"/")||d(h,`
# clerk configuration (can include secrets)
/${j}/
`)}();let g=p();if((null==g?void 0:g.publishableKey)&&(null==g?void 0:g.secretKey))return r(),g;let k=(0,d.n)({}),o=await h().then(i).catch(()=>new Headers),t=await k.__experimental_accountlessApplications.createAccountlessApplication({requestHeaders:o}).catch(()=>null);return t&&(a(c,JSON.stringify(t),{encoding:"utf8",mode:"0777",flag:"w"}),a(f,`
## DO NOT COMMIT
This directory is auto-generated from \`@clerk/nextjs\` because you are running in Keyless mode. Avoid committing the \`.clerk/\` directory as it includes the secret key of the unclaimed instance.
  `,{encoding:"utf8",mode:"0777",flag:"w"})),r(),t}function u(){let{rmSync:a}=(0,e.p8)();if(!s()){q();try{a(l(),{force:!0,recursive:!0})}catch{}r()}}}};