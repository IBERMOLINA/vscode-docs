"use strict";(self.webpackChunkperformance_demo_client=self.webpackChunkperformance_demo_client||[]).push([[204],{204:(e,r,s)=>{s.r(r),s.d(r,{default:()=>o});var c=s(379),i=s(950),t=s(895),n=s(414);const a=(0,i.memo)(()=>{const[e,r]=(0,i.useState)({}),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)([]),d=(0,i.useCallback)(()=>{var e;if("undefined"===typeof window||!window.performance)return{};const r=performance.getEntriesByType("navigation")[0],s=performance.getEntriesByType("paint");return{dns:r?Math.round(r.domainLookupEnd-r.domainLookupStart):0,tcp:r?Math.round(r.connectEnd-r.connectStart):0,ssl:r?Math.round(r.secureConnectionStart>0?r.connectEnd-r.secureConnectionStart:0):0,ttfb:r?Math.round(r.responseStart-r.requestStart):0,domLoad:r?Math.round(r.domContentLoadedEventEnd-r.navigationStart):0,pageLoad:r?Math.round(r.loadEventEnd-r.navigationStart):0,fcp:(null===(e=s.find(e=>"first-contentful-paint"===e.name))||void 0===e?void 0:e.startTime)||0,lcp:0,resourceCount:performance.getEntriesByType("resource").length,memory:performance.memory?{used:Math.round(performance.memory.usedJSHeapSize/1024/1024),total:Math.round(performance.memory.totalJSHeapSize/1024/1024),limit:Math.round(performance.memory.jsHeapSizeLimit/1024/1024)}:null,connection:navigator.connection?{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}:null,timestamp:Date.now()}},[]);(0,i.useEffect)(()=>{if(!s)return;const e=new PerformanceObserver(e=>{const s=e.getEntries(),i=s[s.length-1];r(e=>(0,c.A)((0,c.A)({},e),{},{lcp:Math.round(i.startTime)}))});try{e.observe({entryTypes:["largest-contentful-paint"]})}catch(i){console.log("LCP observer not supported")}return()=>e.disconnect()},[s]);const m=(0,i.useCallback)(()=>{a(!0),l([]);const e=d();r(e),l([e])},[d]),h=(0,i.useCallback)(()=>{a(!1)},[]),p=(0,i.useCallback)(()=>{const e=d();r(e),l(r=>[...r,e])},[d]),j=(0,i.useCallback)(()=>{l([]),r({})},[]),x=(0,i.useCallback)(e=>0===e?"N/A":"".concat(e,"ms"),[]),u=(0,i.useCallback)((e,r)=>{if(!r)return{score:0,color:"#dc3545"};const s={fcp:{good:1800,poor:3e3},lcp:{good:2500,poor:4e3},ttfb:{good:800,poor:1800},domLoad:{good:2e3,poor:4e3},pageLoad:{good:3e3,poor:6e3}}[e];return s?r<=s.good?{score:100,color:"#28a745"}:r<=s.poor?{score:50,color:"#ffc107"}:{score:0,color:"#dc3545"}:{score:100,color:"#28a745"}},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.mg,{children:[(0,n.jsx)("title",{children:"Performance Monitor - Performance Demo"}),(0,n.jsx)("meta",{name:"description",content:"Monitor real-time performance metrics and optimization results"})]}),(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h1",{children:"Performance Monitor"}),(0,n.jsx)("p",{children:"Real-time performance monitoring and metrics collection. This tool helps you understand how your application performs and identify optimization opportunities."}),(0,n.jsxs)("div",{className:"monitor-controls",children:[(0,n.jsx)("button",{onClick:m,className:"btn",disabled:s,children:"Start Monitoring"}),(0,n.jsx)("button",{onClick:h,className:"btn btn-secondary",disabled:!s,children:"Stop Monitoring"}),(0,n.jsx)("button",{onClick:p,className:"btn",disabled:!s,children:"Add Data Point"}),(0,n.jsx)("button",{onClick:j,className:"btn btn-secondary",children:"Clear Data"})]}),Object.keys(e).length>0&&(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{children:"Current Performance Metrics"}),(0,n.jsxs)("div",{className:"metrics-grid",children:[(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsx)("div",{className:"metric-value",style:{color:u("fcp",e.fcp).color},children:x(e.fcp)}),(0,n.jsx)("div",{className:"metric-label",children:"First Contentful Paint"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsx)("div",{className:"metric-value",style:{color:u("lcp",e.lcp).color},children:x(e.lcp)}),(0,n.jsx)("div",{className:"metric-label",children:"Largest Contentful Paint"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsx)("div",{className:"metric-value",style:{color:u("ttfb",e.ttfb).color},children:x(e.ttfb)}),(0,n.jsx)("div",{className:"metric-label",children:"Time to First Byte"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsx)("div",{className:"metric-value",style:{color:u("domLoad",e.domLoad).color},children:x(e.domLoad)}),(0,n.jsx)("div",{className:"metric-label",children:"DOM Content Loaded"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsx)("div",{className:"metric-value",style:{color:u("pageLoad",e.pageLoad).color},children:x(e.pageLoad)}),(0,n.jsx)("div",{className:"metric-label",children:"Page Load Time"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsx)("div",{className:"metric-value",children:e.resourceCount||0}),(0,n.jsx)("div",{className:"metric-label",children:"Resources Loaded"})]})]}),e.connection&&(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h3",{children:"Network Information"}),(0,n.jsxs)("div",{className:"metrics-grid",children:[(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsx)("div",{className:"metric-value",children:e.connection.effectiveType}),(0,n.jsx)("div",{className:"metric-label",children:"Connection Type"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsxs)("div",{className:"metric-value",children:[e.connection.downlink," Mbps"]}),(0,n.jsx)("div",{className:"metric-label",children:"Download Speed"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsxs)("div",{className:"metric-value",children:[e.connection.rtt,"ms"]}),(0,n.jsx)("div",{className:"metric-label",children:"Round Trip Time"})]})]})]}),e.memory&&(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h3",{children:"Memory Usage"}),(0,n.jsxs)("div",{className:"metrics-grid",children:[(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsxs)("div",{className:"metric-value",children:[e.memory.used," MB"]}),(0,n.jsx)("div",{className:"metric-label",children:"Used Memory"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsxs)("div",{className:"metric-value",children:[e.memory.total," MB"]}),(0,n.jsx)("div",{className:"metric-label",children:"Total Memory"})]}),(0,n.jsxs)("div",{className:"metric-card",children:[(0,n.jsxs)("div",{className:"metric-value",children:[e.memory.limit," MB"]}),(0,n.jsx)("div",{className:"metric-label",children:"Memory Limit"})]})]})]})]}),o.length>0&&(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{children:"Performance Data History"}),(0,n.jsx)("div",{className:"performance-table",children:(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Timestamp"}),(0,n.jsx)("th",{children:"FCP"}),(0,n.jsx)("th",{children:"LCP"}),(0,n.jsx)("th",{children:"TTFB"}),(0,n.jsx)("th",{children:"DOM Load"}),(0,n.jsx)("th",{children:"Page Load"}),(0,n.jsx)("th",{children:"Resources"})]})}),(0,n.jsx)("tbody",{children:o.map((e,r)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:new Date(e.timestamp).toLocaleTimeString()}),(0,n.jsx)("td",{style:{color:u("fcp",e.fcp).color},children:x(e.fcp)}),(0,n.jsx)("td",{style:{color:u("lcp",e.lcp).color},children:x(e.lcp)}),(0,n.jsx)("td",{style:{color:u("ttfb",e.ttfb).color},children:x(e.ttfb)}),(0,n.jsx)("td",{style:{color:u("domLoad",e.domLoad).color},children:x(e.domLoad)}),(0,n.jsx)("td",{style:{color:u("pageLoad",e.pageLoad).color},children:x(e.pageLoad)}),(0,n.jsx)("td",{children:e.resourceCount})]},r))})]})})]}),(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h3",{children:"Performance Optimization Tips"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"First Contentful Paint (FCP):"})," Optimize critical rendering path, minimize render-blocking resources"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Largest Contentful Paint (LCP):"})," Optimize images, use efficient image formats, implement lazy loading"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Time to First Byte (TTFB):"})," Optimize server response time, use CDN, enable compression"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"DOM Content Loaded:"})," Minimize JavaScript execution, defer non-critical scripts"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Page Load Time:"})," Optimize all resources, use code splitting, implement caching"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Memory Usage:"})," Avoid memory leaks, clean up event listeners, optimize data structures"]})]})]})]})]})});a.displayName="PerformanceMonitor";const o=a}}]);